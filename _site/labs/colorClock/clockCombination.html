<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">
    <link rel="stylesheet" href="clockAll.css">
      <title>COLOR Clock</title>
  </head>
  <body>
    <div class="background">
        <div class="back"><a style = "width: 40px; height :40px;" href = "javascript:history.back();"><object id="arrow" data="../../images/colorClock/arrow_white.min.svg" type="image/svg+xml" height="16" width="9">
        Your browser doesn't support SVG
        </object></a></div>
        <div class="description">
            <h1>COLOR CLOCK</h1>
            <p>초가 흐를 때마다 컬러 그라디언트가 바뀌는 신비한 시계입니다.</p>
            <p class="digital"></p>
              <ul class="tabs">
                
                <li class="tab-link currentTab current" data-tab-index="0">Border</li>
                <li class="tab-link" data-tab-index="1">Fill</li>
              </ul>  
           <!-- tab container -->
          </div>
  
          <!-- <div id="color"></div>
          <div class="color"></div> -->
      <div id="clockAll">
        <!-- border clock -->
      <div class="clock clock-border" data-tab-index="0">
        <div class="clock-face">
          <div class="clock-center"></div>
          <div class="hand hour-hand"></div>
          <div class="hand min-hand"></div>
          <div class="hand second-hand"></div>
        </div>
      </div>
      <!-- border clock 끝 -->
      <!-- fill clock -->
      <div class="clock clock-fill" data-tab-index="1" style="display:none;">
          <div class="clock-face">
            <div class="clock-center"></div>
            <div class="hand hour-hand"></div>
            <div class="hand min-hand"></div>
            <div class="hand second-hand"></div>
          </div>
        </div>
        <!-- fill clock끝 -->
    </div>
    <!-- #clockAll 끝 -->
    <div class="footer">
      <a href= "https://www.facebook.com/seungheo26">created by <span style = "text-decoration : underline;">Seung</span>;</a>
    </div>
    </div>

    <script>
            const hand = document.querySelectorAll('.hand');
      const secondHand = document.querySelectorAll('.second-hand');
      const minHand = document.querySelectorAll('.min-hand');
      const hourHand = document.querySelectorAll('.hour-hand');
      const digital = document.querySelector('.digital');

      function setDate(){

  

        // date라는 object 생성
        const now = new Date();
        // getSeconds는 초를 측정하는 method
        const seconds = now.getSeconds();
        // console.log(seconds);
        const secondDegrees = ((seconds/60) * 360) + 90;
        // rotate 90deg를 해놓은 상태이기 때문에 싱크를 맞추려면 +90을 해줘야함.
        secondHand[0].style.transform = `rotate(${secondDegrees}deg)`;
        secondHand[1].style.transform = `rotate(${secondDegrees}deg)`;
        // 해당 클래스에 style을 먹이는 방법
         // getMinutes는 분을 측정
         const mins = now.getMinutes();
         const minDegrees = ((mins/60)*360) + 90;
         minHand[0].style.transform = `rotate(${minDegrees}deg)`;
         minHand[1].style.transform = `rotate(${minDegrees}deg)`;
         
         const hours = now.getHours();
         const hourDegrees = ((hours/12) * 360) + 90;
         hourHand[0].style.transform = `rotate(${hourDegrees}deg)`;
         hourHand[1].style.transform = `rotate(${hourDegrees}deg)`;

        //  digital 시간 표시

        function addZero(i) {
          if (i < 10) {
              i = "0" + i;
          }
          return i;
        }
        
        const hh = addZero(hours);
        const mm = addZero(mins);
        const ss = addZero(seconds);
         digital.innerHTML = hh +": " + mm +": "+ ss; 
          // 분, 시가 바뀔 때 띠용 하고 시침 분침이 튕기는 현상 방지
          if (seconds === 0) { 
            minHand[0].style.transition = "all 0s";
            minHand[1].style.transition = "all 0s";
            secondHand[0].style.transition = "all 0s";
            secondHand[1].style.transition = "all 0s";
            hourHand[0].style.transition = "all 0s";
            hourHand[1].style.transition = "all 0s";
          }
          
        }
      
      setInterval(setDate,1000);
      
    
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="clockAll.js"></script>
  </body>
  </html>